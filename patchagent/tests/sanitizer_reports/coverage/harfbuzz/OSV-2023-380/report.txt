INFO:__main__:Running: docker run --privileged --shm-size=2g --platform linux/amd64 --rm -i -e HELPER=True -e ARCHITECTURE=x86_64 -v /mnt/data0/zf1025/AICC/oss-fuzz/build/out/harfbuzz:/out -v /mnt/data0/zf1025/AICC/build_space/PoC:/testcase -t gcr.io/oss-fuzz-base/base-runner reproduce hb-subset-fuzzer -runs=100.
+ FUZZER=hb-subset-fuzzer
+ shift
+ '[' '!' -v TESTCASE ']'
+ TESTCASE=/testcase
+ '[' '!' -f /testcase ']'
+ export RUN_FUZZER_MODE=interactive
+ RUN_FUZZER_MODE=interactive
+ export FUZZING_ENGINE=libfuzzer
+ FUZZING_ENGINE=libfuzzer
+ export SKIP_SEED_CORPUS=1
+ SKIP_SEED_CORPUS=1
+ run_fuzzer hb-subset-fuzzer -runs=100 /testcase
vm.mmap_rnd_bits = 28
/out/hb-subset-fuzzer -rss_limit_mb=2560 -timeout=25 -runs=100 /testcase < /dev/null
INFO: Running with entropic power schedule (0xFF, 100).
INFO: Seed: 4277152465
/out/hb-subset-fuzzer: Running 1 inputs 100 time(s) each.
Running: /testcase
UndefinedBehaviorSanitizer:DEADLYSIGNAL
[1m[31m==14==ERROR: UndefinedBehaviorSanitizer: SEGV on unknown address 0x5561c6bbfb2e (pc 0x5559c4ed476f bp 0x7ffe555fb240 sp 0x7ffe555fb070 T14)
[1m[0m==14==The signal is caused by a WRITE memory access.
    #0 0x5559c4ed476f in operator= /work/build/../../src/harfbuzz/src/hb-open-type.hh:65:36
    #1 0x5559c4ed476f in operator= /work/build/../../src/harfbuzz/src/hb-open-type.hh:203:52
    #2 0x5559c4ed476f in serialize<hb_map_iter_t<hb_map_iter_t<hb_filter_iter_t<hb_filter_iter_t<hb_zip_iter_t<OT::Layout::Common::Coverage::iter_t, hb_array_t<const OT::HBGlyphID16> >, const hb_set_t &, const (unnamed struct at ../../src/harfbuzz/src/hb-algs.hh:554:1) &, nullptr>, const hb_set_t &, const (unnamed struct at ../../src/harfbuzz/src/hb-algs.hh:561:1) &, nullptr>, (lambda at ../../src/harfbuzz/src/OT/Layout/GSUB/SingleSubstFormat2.hh:162:31), (hb_function_sortedness_t)1, nullptr>, const (unnamed struct at ../../src/harfbuzz/src/hb-algs.hh:554:1) &, (hb_function_sortedness_t)1, nullptr>, nullptr> /work/build/../../src/harfbuzz/src/OT/Layout/Common/CoverageFormat2.hh:106:38
    #3 0x5559c4ed476f in bool OT::Layout::Common::Coverage::serialize<hb_map_iter_t<hb_map_iter_t<hb_filter_iter_t<hb_filter_iter_t<hb_zip_iter_t<OT::Layout::Common::Coverage::iter_t, hb_array_t<OT::HBGlyphID16 const>>, hb_set_t const&, $_5 const&, (void*)0>, hb_set_t const&, $_10 const&, (void*)0>, OT::Layout::GSUB_impl::SingleSubstFormat2_4<OT::Layout::SmallTypes>::subset(hb_subset_context_t*) const::'lambda'(hb_pair_t<unsigned int, OT::HBGlyphID16 const&>), (hb_function_sortedness_t)1, (void*)0>, $_5 const&, (hb_function_sortedness_t)1, (void*)0>, (void*)0>(hb_serialize_context_t*, hb_map_iter_t<hb_map_iter_t<hb_filter_iter_t<hb_filter_iter_t<hb_zip_iter_t<OT::Layout::Common::Coverage::iter_t, hb_array_t<OT::HBGlyphID16 const>>, hb_set_t const&, $_5 const&, (void*)0>, hb_set_t const&, $_10 const&, (void*)0>, OT::Layout::GSUB_impl::SingleSubstFormat2_4<OT::Layout::SmallTypes>::subset(hb_subset_context_t*) const::'lambda'(hb_pair_t<unsigned int, OT::HBGlyphID16 const&>), (hb_function_sortedness_t)1, (void*)0>, $_5 const&, (hb_function_sortedness_t)1, (void*)0>) /work/build/../../src/harfbuzz/src/OT/Layout/Common/Coverage.hh:143:13
    #4 0x5559c4ed50bc in bool OT::OffsetTo<OT::Layout::Common::Coverage, OT::IntType<unsigned int, 3u>, true>::serialize_serialize<hb_map_iter_t<hb_map_iter_t<hb_filter_iter_t<hb_filter_iter_t<hb_zip_iter_t<OT::Layout::Common::Coverage::iter_t, hb_array_t<OT::HBGlyphID16 const>>, hb_set_t const&, $_5 const&, (void*)0>, hb_set_t const&, $_10 const&, (void*)0>, OT::Layout::GSUB_impl::SingleSubstFormat2_4<OT::Layout::SmallTypes>::subset(hb_subset_context_t*) const::'lambda'(hb_pair_t<unsigned int, OT::HBGlyphID16 const&>), (hb_function_sortedness_t)1, (void*)0>, $_5 const&, (hb_function_sortedness_t)1, (void*)0>&>(hb_serialize_context_t*, hb_map_iter_t<hb_map_iter_t<hb_filter_iter_t<hb_filter_iter_t<hb_zip_iter_t<OT::Layout::Common::Coverage::iter_t, hb_array_t<OT::HBGlyphID16 const>>, hb_set_t const&, $_5 const&, (void*)0>, hb_set_t const&, $_10 const&, (void*)0>, OT::Layout::GSUB_impl::SingleSubstFormat2_4<OT::Layout::SmallTypes>::subset(hb_subset_context_t*) const::'lambda'(hb_pair_t<unsigned int, OT::HBGlyphID16 const&>), (hb_function_sortedness_t)1, (void*)0>, $_5 const&, (hb_function_sortedness_t)1, (void*)0>&) /work/build/../../src/harfbuzz/src/hb-open-type.hh:378:21
    #5 0x5559c4f5aa69 in serialize<hb_map_iter_t<hb_filter_iter_t<hb_filter_iter_t<hb_zip_iter_t<OT::Layout::Common::Coverage::iter_t, hb_array_t<const OT::HBGlyphID16> >, const hb_set_t &, const (unnamed struct at ../../src/harfbuzz/src/hb-algs.hh:554:1) &, nullptr>, const hb_set_t &, const (unnamed struct at ../../src/harfbuzz/src/hb-algs.hh:561:1) &, nullptr>, (lambda at ../../src/harfbuzz/src/OT/Layout/GSUB/SingleSubstFormat2.hh:162:31), (hb_function_sortedness_t)1, nullptr>, nullptr> /work/build/../../src/harfbuzz/src/OT/Layout/GSUB/SingleSubstFormat2.hh:148:9
    #6 0x5559c4f5aa69 in serialize<hb_map_iter_t<hb_filter_iter_t<hb_filter_iter_t<hb_zip_iter_t<OT::Layout::Common::Coverage::iter_t, hb_array_t<const OT::HBGlyphID16> >, const hb_set_t &, const (unnamed struct at ../../src/harfbuzz/src/hb-algs.hh:554:1) &, nullptr>, const hb_set_t &, const (unnamed struct at ../../src/harfbuzz/src/hb-algs.hh:561:1) &, nullptr>, (lambda at ../../src/harfbuzz/src/OT/Layout/GSUB/SingleSubstFormat2.hh:162:31), (hb_function_sortedness_t)1, nullptr>, nullptr> /work/build/../../src/harfbuzz/src/OT/Layout/GSUB/SingleSubst.hh:86:13
    #7 0x5559c4f5aa69 in SingleSubst_serialize<hb_map_iter_t<hb_filter_iter_t<hb_filter_iter_t<hb_zip_iter_t<OT::Layout::Common::Coverage::iter_t, hb_array_t<const OT::HBGlyphID16> >, const hb_set_t &, const (unnamed struct at ../../src/harfbuzz/src/hb-algs.hh:554:1) &, nullptr>, const hb_set_t &, const (unnamed struct at ../../src/harfbuzz/src/hb-algs.hh:561:1) &, nullptr>, (lambda at ../../src/harfbuzz/src/OT/Layout/GSUB/SingleSubstFormat2.hh:162:31), (hb_function_sortedness_t)1, nullptr> > /work/build/../../src/harfbuzz/src/OT/Layout/GSUB/SingleSubst.hh:97:35
    #8 0x5559c4f5aa69 in OT::Layout::GSUB_impl::SingleSubstFormat2_4<OT::Layout::SmallTypes>::subset(hb_subset_context_t*) const /work/build/../../src/harfbuzz/src/OT/Layout/GSUB/SingleSubstFormat2.hh:167:5
    #9 0x5559c4f58372 in _dispatch<OT::Layout::GSUB_impl::SingleSubstFormat2_4<OT::Layout::SmallTypes> > /work/build/../../src/harfbuzz/src/hb-subset.hh:48:56
    #10 0x5559c4f58372 in dispatch<OT::Layout::GSUB_impl::SingleSubstFormat2_4<OT::Layout::SmallTypes> > /work/build/../../src/harfbuzz/src/hb-subset.hh:55:39
    #11 0x5559c4f58372 in hb_subset_context_t::return_t OT::Layout::GSUB_impl::SingleSubst::dispatch<hb_subset_context_t>(hb_subset_context_t*) const /work/build/../../src/harfbuzz/src/OT/Layout/GSUB/SingleSubst.hh:34:13
    #12 0x5559c4f581a1 in hb_subset_context_t::return_t OT::Layout::GSUB_impl::SubstLookupSubTable::dispatch<hb_subset_context_t>(hb_subset_context_t*, unsigned int) const /work/build/../../src/harfbuzz/src/OT/Layout/GSUB/SubstLookupSubTable.hh:53:33
    #13 0x5559c4f57f44 in _dispatch<OT::Layout::GSUB_impl::SubstLookupSubTable, unsigned int &> /work/build/../../src/harfbuzz/src/hb-subset.hh:51:56
    #14 0x5559c4f57f44 in dispatch<OT::Layout::GSUB_impl::SubstLookupSubTable, unsigned int &> /work/build/../../src/harfbuzz/src/hb-subset.hh:55:39
    #15 0x5559c4f57f44 in bool OT::OffsetTo<OT::Layout::GSUB_impl::SubstLookupSubTable, OT::IntType<unsigned short, 2u>, true>::serialize_subset<unsigned int&>(hb_subset_context_t*, OT::OffsetTo<OT::Layout::GSUB_impl::SubstLookupSubTable, OT::IntType<unsigned short, 2u>, true> const&, void const*, unsigned int&) /work/build/../../src/harfbuzz/src/hb-open-type.hh:361:19
    #16 0x5559c4f57b96 in bool OT::subset_offset_array_arg_t<OT::ArrayOf<OT::OffsetTo<OT::Layout::GSUB_impl::SubstLookupSubTable, OT::IntType<unsigned short, 2u>, true>, OT::IntType<unsigned short, 2u>>, unsigned int&>::operator()<OT::OffsetTo<OT::Layout::GSUB_impl::SubstLookupSubTable, OT::IntType<unsigned short, 2u>, true> const&>(OT::OffsetTo<OT::Layout::GSUB_impl::SubstLookupSubTable, OT::IntType<unsigned short, 2u>, true> const&) /work/build/../../src/harfbuzz/src/hb-ot-layout-common.hh:259:19
    #17 0x5559c4f578a2 in impl<OT::subset_offset_array_arg_t<OT::ArrayOf<OT::OffsetTo<OT::Layout::GSUB_impl::SubstLookupSubTable, OT::IntType<unsigned short, 2U>, true>, OT::IntType<unsigned short, 2U> >, unsigned int &> &, const OT::OffsetTo<OT::Layout::GSUB_impl::SubstLookupSubTable, OT::IntType<unsigned short, 2U>, true> &> /work/build/../../src/harfbuzz/src/hb-algs.hh:268:53
    #18 0x5559c4f578a2 in operator()<OT::subset_offset_array_arg_t<OT::ArrayOf<OT::OffsetTo<OT::Layout::GSUB_impl::SubstLookupSubTable, OT::IntType<unsigned short, 2U>, true>, OT::IntType<unsigned short, 2U> >, unsigned int &> &, const OT::OffsetTo<OT::Layout::GSUB_impl::SubstLookupSubTable, OT::IntType<unsigned short, 2U>, true> &> /work/build/../../src/harfbuzz/src/hb-algs.hh:274:44
    #19 0x5559c4f578a2 in operator()<hb_filter_iter_t<hb_array_t<const OT::OffsetTo<OT::Layout::GSUB_impl::SubstLookupSubTable, OT::IntType<unsigned short, 2U>, true> >, (lambda at ../../src/harfbuzz/src/hb-ot-layout-common.hh:1377:18), const (unnamed struct at ../../src/harfbuzz/src/hb-algs.hh:202:1) &, nullptr>, nullptr> /work/build/../../src/harfbuzz/src/hb-iter.hh:683:14
    #20 0x5559c4f578a2 in operator|<hb_filter_iter_t<hb_array_t<const OT::OffsetTo<OT::Layout::GSUB_impl::SubstLookupSubTable, OT::IntType<unsigned short, 2U>, true> >, (lambda at ../../src/harfbuzz/src/hb-ot-layout-common.hh:1377:18), const (unnamed struct at ../../src/harfbuzz/src/hb-algs.hh:202:1) &, nullptr>, hb_apply_t<OT::subset_offset_array_arg_t<OT::ArrayOf<OT::OffsetTo<OT::Layout::GSUB_impl::SubstLookupSubTable, OT::IntType<unsigned short, 2U>, true>, OT::IntType<unsigned short, 2U> >, unsigned int &> >, nullptr> /work/build/../../src/harfbuzz/src/hb-iter.hh:358:35
    #21 0x5559c4f578a2 in bool OT::Lookup::subset<OT::Layout::GSUB_impl::SubstLookupSubTable>(hb_subset_context_t*) const /work/build/../../src/harfbuzz/src/hb-ot-layout-common.hh:1378:5
    #22 0x5559c4f570d7 in subset /work/build/../../src/harfbuzz/src/OT/Layout/GSUB/SubstLookup.hh:212:20
    #23 0x5559c4f570d7 in _dispatch<OT::Layout::GSUB_impl::SubstLookup> /work/build/../../src/harfbuzz/src/hb-subset.hh:48:56
    #24 0x5559c4f570d7 in dispatch<OT::Layout::GSUB_impl::SubstLookup> /work/build/../../src/harfbuzz/src/hb-subset.hh:55:39
    #25 0x5559c4f570d7 in bool OT::OffsetTo<OT::Layout::GSUB_impl::SubstLookup, OT::IntType<unsigned short, 2u>, true>::serialize_subset<>(hb_subset_context_t*, OT::OffsetTo<OT::Layout::GSUB_impl::SubstLookup, OT::IntType<unsigned short, 2u>, true> const&, void const*) /work/build/../../src/harfbuzz/src/hb-open-type.hh:361:19
    #26 0x5559c4f56d22 in bool OT::subset_offset_array_t<OT::LookupOffsetList<OT::Layout::GSUB_impl::SubstLookup, OT::IntType<unsigned short, 2u>>>::operator()<OT::OffsetTo<OT::Layout::GSUB_impl::SubstLookup, OT::IntType<unsigned short, 2u>, true> const&>(OT::OffsetTo<OT::Layout::GSUB_impl::SubstLookup, OT::IntType<unsigned short, 2u>, true> const&) /work/build/../../src/harfbuzz/src/hb-ot-layout-common.hh:228:19
    #27 0x5559c4f568c3 in impl<OT::subset_offset_array_t<OT::LookupOffsetList<OT::Layout::GSUB_impl::SubstLookup, OT::IntType<unsigned short, 2U> > > &, const OT::OffsetTo<OT::Layout::GSUB_impl::SubstLookup, OT::IntType<unsigned short, 2U>, true> &> /work/build/../../src/harfbuzz/src/hb-algs.hh:268:53
    #28 0x5559c4f568c3 in operator()<OT::subset_offset_array_t<OT::LookupOffsetList<OT::Layout::GSUB_impl::SubstLookup, OT::IntType<unsigned short, 2U> > > &, const OT::OffsetTo<OT::Layout::GSUB_impl::SubstLookup, OT::IntType<unsigned short, 2U>, true> &> /work/build/../../src/harfbuzz/src/hb-algs.hh:274:44
    #29 0x5559c4f568c3 in operator()<hb_map_iter_t<hb_filter_iter_t<hb_zip_iter_t<hb_iota_iter_t<unsigned int, unsigned int>, hb_array_t<const OT::OffsetTo<OT::Layout::GSUB_impl::SubstLookup, OT::IntType<unsigned short, 2U>, true> > >, const hb_map_t *&, const (unnamed struct at ../../src/harfbuzz/src/hb-algs.hh:554:1) &, nullptr>, const (unnamed struct at ../../src/harfbuzz/src/hb-algs.hh:561:1) &, (hb_function_sortedness_t)0, nullptr>, nullptr> /work/build/../../src/harfbuzz/src/hb-iter.hh:683:14
    #30 0x5559c4f568c3 in operator|<hb_map_iter_t<hb_filter_iter_t<hb_zip_iter_t<hb_iota_iter_t<unsigned int, unsigned int>, hb_array_t<const OT::OffsetTo<OT::Layout::GSUB_impl::SubstLookup, OT::IntType<unsigned short, 2U>, true> > >, const hb_map_t *&, const (unnamed struct at ../../src/harfbuzz/src/hb-algs.hh:554:1) &, nullptr>, const (unnamed struct at ../../src/harfbuzz/src/hb-algs.hh:561:1) &, (hb_function_sortedness_t)0, nullptr>, hb_apply_t<OT::subset_offset_array_t<OT::LookupOffsetList<OT::Layout::GSUB_impl::SubstLookup, OT::IntType<unsigned short, 2U> > > >, nullptr> /work/build/../../src/harfbuzz/src/hb-iter.hh:358:35
    #31 0x5559c4f568c3 in OT::LookupOffsetList<OT::Layout::GSUB_impl::SubstLookup, OT::IntType<unsigned short, 2u>>::subset(hb_subset_context_t*, OT::hb_subset_layout_context_t*) const /work/build/../../src/harfbuzz/src/hb-ot-layout-common.hh:1464:5
    #32 0x5559c4f55975 in _dispatch<OT::LookupOffsetList<OT::Layout::GSUB_impl::SubstLookup, OT::IntType<unsigned short, 2U> >, OT::hb_subset_layout_context_t *&> /work/build/../../src/harfbuzz/src/hb-subset.hh:48:56
    #33 0x5559c4f55975 in dispatch<OT::LookupOffsetList<OT::Layout::GSUB_impl::SubstLookup, OT::IntType<unsigned short, 2U> >, OT::hb_subset_layout_context_t *&> /work/build/../../src/harfbuzz/src/hb-subset.hh:55:39
    #34 0x5559c4f55975 in bool OT::OffsetTo<OT::LookupOffsetList<OT::Layout::GSUB_impl::SubstLookup, OT::IntType<unsigned short, 2u>>, OT::IntType<unsigned short, 2u>, true>::serialize_subset<OT::hb_subset_layout_context_t*&>(hb_subset_context_t*, OT::OffsetTo<OT::LookupOffsetList<OT::Layout::GSUB_impl::SubstLookup, OT::IntType<unsigned short, 2u>>, OT::IntType<unsigned short, 2u>, true> const&, void const*, OT::hb_subset_layout_context_t*&) /work/build/../../src/harfbuzz/src/hb-open-type.hh:361:19
    #35 0x5559c4f5530b in bool OT::GSUBGPOSVersion1_2<OT::Layout::SmallTypes>::subset<OT::Layout::GSUB_impl::SubstLookup>(OT::hb_subset_layout_context_t*) const /work/build/../../src/harfbuzz/src/OT/Layout/GSUB/../../../hb-ot-layout-gsubgpos.hh:4202:3
    #36 0x5559c4f55262 in subset<OT::Layout::GSUB_impl::SubstLookup> /work/build/../../src/harfbuzz/src/OT/Layout/GSUB/../../../hb-ot-layout-gsubgpos.hh:4279:31
    #37 0x5559c4f55262 in OT::Layout::GSUB::subset(hb_subset_context_t*) const /work/build/../../src/harfbuzz/src/OT/Layout/GSUB/GSUB.hh:31:22
    #38 0x5559c4ed16df in bool _try_subset<OT::Layout::GSUB>(OT::Layout::GSUB const*, hb_vector_t<char, false>*, hb_subset_context_t*) /work/build/../../src/harfbuzz/src/hb-subset.cc:237:24
    #39 0x5559c4eb84e1 in _subset<const OT::Layout::GSUB> /work/build/../../src/harfbuzz/src/hb-subset.cc:301:14
    #40 0x5559c4eb84e1 in _subset_table /work/build/../../src/harfbuzz/src/hb-subset.cc:467:31
    #41 0x5559c4eb84e1 in hb_subset_plan_execute_or_fail /work/build/../../src/harfbuzz/src/hb-subset.cc:621:17
    #42 0x5559c4eb748a in hb_subset_or_fail /work/build/../../src/harfbuzz/src/hb-subset.cc:549:24
    #43 0x5559c4d54556 in trySubset(hb_face_t*, unsigned int const*, int, unsigned int, hb_subset_input_t*) /work/build/../../src/harfbuzz/test/fuzzing/hb-subset-fuzzer.cc:26:23
    #44 0x5559c4d543ad in LLVMFuzzerTestOneInput /work/build/../../src/harfbuzz/test/fuzzing/hb-subset-fuzzer.cc:73:3
    #45 0x5559c4cb68f0 in fuzzer::Fuzzer::ExecuteCallback(unsigned char const*, unsigned long) /src/llvm-project/compiler-rt/lib/fuzzer/FuzzerLoop.cpp:614:13
    #46 0x5559c4ca1b65 in fuzzer::RunOneTest(fuzzer::Fuzzer*, char const*, unsigned long) /src/llvm-project/compiler-rt/lib/fuzzer/FuzzerDriver.cpp:327:6
    #47 0x5559c4ca75ff in fuzzer::FuzzerDriver(int*, char***, int (*)(unsigned char const*, unsigned long)) /src/llvm-project/compiler-rt/lib/fuzzer/FuzzerDriver.cpp:862:9
    #48 0x5559c4cd28a2 in main /src/llvm-project/compiler-rt/lib/fuzzer/FuzzerMain.cpp:20:10
    #49 0x7fcc517ac082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082) (BuildId: 0323ab4806bee6f846d9ad4bccfc29afdca49a58)
    #50 0x5559c4c99d4d in _start (/out/hb-subset-fuzzer+0x21d4d)

DEDUP_TOKEN: operator=--operator=--serialize<hb_map_iter_t<hb_map_iter_t<hb_filter_iter_t<hb_filter_iter_t<hb_zip_iter_t<OT::Layout::Common::Coverage::iter_t, hb_array_t<const OT::HBGlyphID16> >, const hb_set_t &, const (unnamed struct at ../../src/harfbuzz/src/hb-algs.hh:554:1) &, nullptr>, const hb_set_t &, const (unnamed struct at ../../src/harfbuzz/src/hb-algs.hh:561:1) &, nullptr>, (lambda at ../../src/harfbuzz/src/OT/Layout/GSUB/SingleSubstFormat2.hh:162:31), (hb_function_sortedness_t)1, nullptr>, const (unnamed struct at ../../src/harfbuzz/src/hb-algs.hh:554:1) &, (hb_function_sortedness_t)1, nullptr>, nullptr>
UndefinedBehaviorSanitizer can not provide additional info.
SUMMARY: UndefinedBehaviorSanitizer: SEGV /work/build/../../src/harfbuzz/src/hb-open-type.hh:65:36 in operator=
==14==ABORTING

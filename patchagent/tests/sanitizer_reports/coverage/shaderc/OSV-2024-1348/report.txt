INFO:__main__:Running: docker run --privileged --shm-size=2g --platform linux/amd64 --rm -i -e HELPER=True -e ARCHITECTURE=x86_64 -v /mnt/data0/zf1025/AICC/oss-fuzz/build/out/shaderc:/out -v /mnt/data0/zf1025/AICC/build_space/PoC:/testcase -t gcr.io/oss-fuzz-base/base-runner reproduce shaderc_fdp_fuzzer -runs=100.
+ FUZZER=shaderc_fdp_fuzzer
+ shift
+ '[' '!' -v TESTCASE ']'
+ TESTCASE=/testcase
+ '[' '!' -f /testcase ']'
+ export RUN_FUZZER_MODE=interactive
+ RUN_FUZZER_MODE=interactive
+ export FUZZING_ENGINE=libfuzzer
+ FUZZING_ENGINE=libfuzzer
+ export SKIP_SEED_CORPUS=1
+ SKIP_SEED_CORPUS=1
+ run_fuzzer shaderc_fdp_fuzzer -runs=100 /testcase
vm.mmap_rnd_bits = 28
/out/shaderc_fdp_fuzzer -rss_limit_mb=2560 -timeout=25 -runs=100 /testcase < /dev/null
INFO: Running with entropic power schedule (0xFF, 100).
INFO: Seed: 1008240487
/out/shaderc_fdp_fuzzer: Running 1 inputs 100 time(s) each.
Running: /testcase
UndefinedBehaviorSanitizer:DEADLYSIGNAL
[1m[31m==14==ERROR: UndefinedBehaviorSanitizer: SEGV on unknown address 0x55b300000003 (pc 0x55b354800a6b bp 0x7fffdef59de0 sp 0x7fffdef59bc0 T14)
[1m[0m==14==The signal is caused by a READ memory access.
    #0 0x55b354800a6b in __is_long /usr/local/bin/../include/c++/v1/string:1773:12
    #1 0x55b354800a6b in __get_pointer /usr/local/bin/../include/c++/v1/string:1883:12
    #2 0x55b354800a6b in data /usr/local/bin/../include/c++/v1/string:1597:30
    #3 0x55b354800a6b in c_str /usr/local/bin/../include/c++/v1/string:1595:106
    #4 0x55b354800a6b in glslang::HlslGrammar::acceptDeclaration(TIntermNode*&) /src/shaderc/third_party/glslang/glslang/HLSL/hlslGrammar.cpp:393:103
    #5 0x55b3548005c7 in glslang::HlslGrammar::acceptDeclarationList(TIntermNode*&) /src/shaderc/third_party/glslang/glslang/HLSL/hlslGrammar.cpp:165:15
    #6 0x55b3547fffcf in glslang::HlslGrammar::acceptCompilationUnit() /src/shaderc/third_party/glslang/glslang/HLSL/hlslGrammar.cpp:130:11
    #7 0x55b3547b0663 in glslang::HlslParseContext::parseShaderStrings(glslang::TPpContext&, glslang::TInputScanner&, bool) /src/shaderc/third_party/glslang/glslang/HLSL/hlslParseHelper.cpp:132:18
    #8 0x55b3547246ce in operator() /src/shaderc/third_party/glslang/glslang/MachineIndependent/ShaderLang.cpp:1233:28
    #9 0x55b3547246ce in ProcessDeferred<(anonymous namespace)::DoFullParse> /src/shaderc/third_party/glslang/glslang/MachineIndependent/ShaderLang.cpp:1008:20
    #10 0x55b3547246ce in (anonymous namespace)::CompileDeferred(TCompiler*, char const* const*, int, int const*, char const* const*, char const*, EShOptimizationLevel, TBuiltInResource const*, int, EProfile, bool, int, bool, EShMessages, glslang::TIntermediate&, glslang::TShader::Includer&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, glslang::TEnvironment*, bool) /src/shaderc/third_party/glslang/glslang/MachineIndependent/ShaderLang.cpp:1321:12
    #11 0x55b35472633b in glslang::TShader::parse(TBuiltInResource const*, int, EProfile, bool, bool, EShMessages, glslang::TShader::Includer&) /src/shaderc/third_party/glslang/glslang/MachineIndependent/ShaderLang.cpp:1893:12
    #12 0x55b3544d5de5 in shaderc_util::Compiler::Compile(shaderc_util::string_piece const&, EShLanguage, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&, char const*, std::__1::function<EShLanguage (std::__1::basic_ostream<char, std::__1::char_traits<char>>*, shaderc_util::string_piece const&)> const&, shaderc_util::CountingIncluder&, shaderc_util::Compiler::OutputType, std::__1::basic_ostream<char, std::__1::char_traits<char>>*, unsigned long*, unsigned long*) const /src/shaderc/libshaderc_util/src/compiler.cc:320:25
    #13 0x55b3544b368c in (anonymous namespace)::CompileToSpecifiedOutputType(shaderc_compiler*, char const*, unsigned long, shaderc_shader_kind, char const*, char const*, shaderc_compile_options*, shaderc_util::Compiler::OutputType) /src/shaderc/libshaderc/src/shaderc.cc:631:40
    #14 0x55b3544b32a6 in shaderc_compile_into_spv /src/shaderc/libshaderc/src/shaderc.cc:677:10
    #15 0x55b3544b0a55 in CompileGlslToSpv /src/shaderc/libshaderc/include/shaderc/shaderc.hpp:428:55
    #16 0x55b3544b0a55 in CompileGlslToSpv /src/shaderc/libshaderc/include/shaderc/shaderc.hpp:443:12
    #17 0x55b3544b0a55 in shaderc::Compiler::CompileGlslToSpv(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&, shaderc_shader_kind, char const*, shaderc::CompileOptions const&) const /src/shaderc/libshaderc/include/shaderc/shaderc.hpp:468:12
    #18 0x55b3544b00e4 in LLVMFuzzerTestOneInput /src/shaderc_fdp_fuzzer.cc:124:16
    #19 0x55b354411da0 in fuzzer::Fuzzer::ExecuteCallback(unsigned char const*, unsigned long) /src/llvm-project/compiler-rt/lib/fuzzer/FuzzerLoop.cpp:614:13
    #20 0x55b3543fd015 in fuzzer::RunOneTest(fuzzer::Fuzzer*, char const*, unsigned long) /src/llvm-project/compiler-rt/lib/fuzzer/FuzzerDriver.cpp:327:6
    #21 0x55b354402aaf in fuzzer::FuzzerDriver(int*, char***, int (*)(unsigned char const*, unsigned long)) /src/llvm-project/compiler-rt/lib/fuzzer/FuzzerDriver.cpp:862:9
    #22 0x55b35442dd52 in main /src/llvm-project/compiler-rt/lib/fuzzer/FuzzerMain.cpp:20:10
    #23 0x7f2fe5fe0082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082) (BuildId: 0323ab4806bee6f846d9ad4bccfc29afdca49a58)
    #24 0x55b3543f51fd in _start (/out/shaderc_fdp_fuzzer+0xc61fd)

DEDUP_TOKEN: __is_long--__get_pointer--data
UndefinedBehaviorSanitizer can not provide additional info.
SUMMARY: UndefinedBehaviorSanitizer: SEGV /src/shaderc/third_party/glslang/glslang/HLSL/hlslGrammar.cpp:393:103 in glslang::HlslGrammar::acceptDeclaration(TIntermNode*&)
==14==ABORTING
